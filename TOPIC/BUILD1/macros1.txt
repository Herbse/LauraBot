^myfunc o 0 0 B( ^data $$concept ) $$wordindex += 1 _0 = ^burst ( ^0 "^\t" ) $$concept = ^join ( ~ _1 ) ^settag ( $$wordindex $$concept ) ^setcanon ( $$wordindex _2 ) `
^generatenumber o 0 0 A( ) ^popen ( "python ./randPy.py" '^pythonrand ) `
^pythonrand o 0 0 B( ^number ) ^0 `
^counttest o 0 0 A( ) $result = 100 % 10 $result `
^generatedistribution o 0 0 B( $_loopcount $_i $_k $_start $_end $_p ) $distributiondata = ^jsoncreate ( array ) $_i = 1 ^loop ( 100 ) 02c { $number = ^jsoncreate ( object ) $number.value = $_i $number.frequency = 0 $number.percentage = 0 ^jsonarrayinsert ( $distributiondata $number ) $_i += 1 } $_k = 0 ^loop ( 10 ) 037 { $_k += 1 $_start = $_k $_end = $_start + 9 $_k = $_end $number = ^jsoncreate ( object ) $number.value = ^join ( $_start "-" $_end ) $number.frequency = 0 $number.percentage = 0 ^jsonarrayinsert ( $distributiondata $number ) } $endcount = 0 ^loop ( $_loopcount ) 01+ { $$randnum = %rand $$randcsv = ^join ( $$randnum \n ) $$position = $$randnum - 1 $distributiondata[$$position].frequency += 1 $endcount += 1 } $_p = 0 ^loop ( ^length ( $distributiondata ) ) 01u { $distributiondata[$_p].percentage = $distributiondata[$_p].frequency / $loopcount * 100 $_p += 1 } `
^showresults o 0 0 A( ) ^jsontree ( $distributiondata ) $endcount `
^rand o 0 0 A( ) ^addtopic ( ~introduction ) $cs_control_main = ~control $cs_fullfloat = true $cs_language = german $cs_externaltag = ~xpostagsentence $cs_looplimit = 1000000 $userprompt = ^"%user: >" $botprompt = ^"Rand-Bot: " $cs_token = 1048576 | 4096 | 255 | 512 | 131072 `
